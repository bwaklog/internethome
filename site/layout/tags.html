{{ define "all-tags"}}
{{$PageData := .TemplateData}}
{{ template "head" .}}

<body>
    <div class="container" id="container">
        {{template "header" .}}

        <div id="container-zoom" class="container-zoom">
        <h1>Site Index</h1>

        <div class="all-tags">
            {{ range .TagNames }}
            <a class="post-tag" href="/tags/{{ . }}.html"><code>{{.}}</code></a>
            {{end}}
        </div>
        <!--
        <table class="post-table">
            {{range $index, $Post := .DeepDataMerge.Posts}}
            <tr>
                <td><a class="post-card-heading" href="/{{ .CompleteURL }}">{{$Post.Frontmatter.Title}}</a></td>
                <td class="post-table date">{{$Post.Frontmatter.Date}}</td>
            </tr>
            <tr>
                <td>{{printf "%.55s..." $Post.Frontmatter.Description}}</td>
                <td></td>
            </tr>
            {{end}}
        </table> -->

        <table class="post-table">
            {{range $index, $Post := .DeepDataMerge.Posts}}
                <p>[<span class="post-date">{{$Post.Frontmatter.Date}}</span >] <a class="post-card-heading" href="/{{ .CompleteURL }}">{{$Post.Frontmatter.Title}}</a></p>
                <br />
            {{end}}
        </table>

        <!-- <hr /> -->

        <!-- <h2 class="heading-plain">Curated Notes</h2> -->
        <!-- <table class="post-table"> -->
        <!--     {{ range .DeepDataMerge.Notes }} -->
        <!--     {{ if eq .Frontmatter.Head true }} -->
        <!--     <tr> -->
        <!--         <td><a class="post-card-heading" href="/{{ .CompleteURL }}">{{.Frontmatter.Title}}</a></td> -->
        <!--         <td class="post-table date">{{.Frontmatter.Date}}</td> -->
        <!--     </tr> -->
        <!--     <tr> -->
        <!--         <td> {{.Frontmatter.Description}}</td> -->
        <!--         <td></td> -->
        <!--     </tr> -->
        <!--     {{ end }} -->
        <!--     {{ end }} -->
        <!-- </table> -->

        {{template "footer" .}}
        </div>
    </div >
</body>
<script>
const month_names_short = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];

const postDates = document.querySelectorAll('span.post-date');

postDates.forEach((element) => {
  const commitDate = element.textContent;
  const date = new Date(commitDate);
  const monthIndex = date.getUTCMonth(); // 0-11
  const monthName = month_names_short[monthIndex]; // adjust for zero-based index
  element.textContent = `${monthName} ${date.getFullYear()}`;
});
</script>
</html>

{{ end}}
