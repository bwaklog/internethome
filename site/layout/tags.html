{{ define "all-tags"}}
{{$PageData := .TemplateData}}
{{ template "head" .}}

<body>
    {{template "header" .}}
    <div class="container">

        <h1>Site Index</h1>

        <div class="all-tags">
            {{ range .TagNames }}
            <a class="post-tag" href="/tags/{{ . }}.html"><code>{{.}}</code></a>
            {{end}}
        </div>
        
        {{ template "search" .}}

        <hr />

        <!-- <div id="chart"></div>
        <script src="https://d3js.org/d3.v7.min.js"></script>
        <script src="/static/scripts/graph.js"></script> -->

        <h2>Some recent posts </h2>

        <div class="posts">
            {{range $index, $Post := (slice .DeepDataMerge.Posts 0 3)}}
            <a class="post-card" href="/{{ .CompleteURL }}">
                <div class="post-card div">
                    <h3>{{$Post.Frontmatter.Title}}</h3>
                    <p class="post-card date">{{$Post.Frontmatter.Date}}</p>
                    <p>{{$Post.Frontmatter.Description}}</p>
                    <p class="post-card tags">
                        {{ range .Frontmatter.Tags }}
                            <code>{{ . }}</code>
                        {{ end }}
                    </p>
                </div>
            </a>
            {{end}}
        </div>

        <hr />


        <h2>Curated Notes</h2>
        <div class="posts">
            {{ range .DeepDataMerge.Notes }}
            {{ if eq .Frontmatter.Head true }}
            <a class="post-card" href="/{{ .CompleteURL }}">
                <div class="post-card div">
                    <h3>{{.Frontmatter.Title}}</h3>
                    <p class="post-card date">{{.Frontmatter.Date}}</p>
                    <p>{{.Frontmatter.Description}}</p>
                </div>
            </a>
            {{ end }}
            {{ end }}
        </div>

    </div>
    {{template "footer" .}}
</body>

</html>

{{ end}}