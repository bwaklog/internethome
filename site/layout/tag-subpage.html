{{ define "tag-subpage"}}
{{$PageData := index .DeepDataMerge.Tags .PageURL}}
{{ template "head" .}}

<body>
    <div class="container" id="container">
        {{template "header" .}}

            <h1 class="post-title">Site Index</h1>
            <!-- <h2 class="tag-category-span">Posts tagged {{ $PageData.Frontmatter.Title }} </h2> -->
            <blockquote>
                <p>Posts tagged {{ $PageData.Frontmatter.Title }}</p>
            </blockquote>

            <ul style="margin-left: 0px;">
                {{ $TagSet := index .DeepDataMerge.TagsMap .PageURL }}
                {{ range $TagSet }}
                <li class="post-list-element">
                    <div>
                        <div>
                            <a class="post-list-title" href="/{{.CompleteURL}}">{{.Frontmatter.Title}}</a>
                            <br/>
                            <p class="post-list-description">{{.Frontmatter.Description}}</p>
                        </div>
                        <div class="post-list-date">{{.Frontmatter.Date}}</div>
                    </div>
                </li>
                {{end}}
            </ul>

    </div >
    {{template "footer" .}}
</body>

<script>
// const month_names_short = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];

// const postDates = document.querySelectorAll('span.post-date');

// postDates.forEach((element) => {
//   const commitDate = element.textContent;
//   const date = new Date(commitDate);
//   const monthIndex = date.getUTCMonth(); // 0-11
//   const monthName = month_names_short[monthIndex]; // adjust for zero-based index
//   element.textContent = `${monthName} ${date.getFullYear()}`;
// });
</script>

</html>

{{ end}}
